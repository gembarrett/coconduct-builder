function getBasicInfo(){communityName=$("#communityName").val(),coconductUrl=$("#coconducturl").val()}function canProceed(){return $("body").hasClass("offlineUsage")||$("body").hasClass("onlineUsage")?($("#next").prop("disabled",!1),!0):($("#next").prop("disabled",!0),!1)}function onAndOffline(){offlineSpace&&onlineSpace&&(onAndOfflineSpace=!0)}function sectionHasRequiredChanges(){var thisSection=section;2==thisSection||4==thisSection||6==thisSection||7==thisSection||13==thisSection||3==thisSection?(console.log("no change required"),$("#next").prop("disabled",!1)):0==thisSection||5==thisSection?console.log("at least one button must be selected"):1==thisSection||8==thisSection||9==thisSection?console.log("there must be text inside all inputs"):(10==thisSection||11==thisSection||12==thisSection)&&console.log("at least one checkbox plus inputs required")}function matchSpaces(array,value,box){for(var i=0;i<array.length;i++)if(value==array[i].value)if($(box).is(":checked"))selectedSpaces.push(array[i].value),$(copyOtherSpacesTo).text(selectedSpaces);else{var index=$.inArray(value,selectedSpaces);-1!=index&&(selectedSpaces.splice(index,1),selectedSpaces.length<1&&$("#prefixing").hide(),$(copyOtherSpacesTo).text(selectedSpaces))}}function getCodeOfConduct(){var codeOfConductUrl=document.getElementById("coconducturl").value;""==codeOfConductUrl&&(codeOfConductUrl="the event website"),eventType=offlineSpace?"offline event":onlineSpace?"online community":"on or offline community";var additionalConcerns=document.getElementById("otherAdditional").value,shortVersion="Short version: "+communityName+" is dedicated to a harassment-free conference experience for everyone. Our anti-harassment policy can be found at: "+codeOfConductUrl,mediumVersion="Medium version: "+communityName+" is dedicated to providing a harassment-free conference experience for everyone, regardless of gender, gender identity and expression, sexual orientation, disability, physical appearance, body size, race, age or religion "+additionalConcerns+". We do not tolerate harassment of conference participants in any form. Sexual language and imagery is not appropriate for any "+eventType+" venue, including talks. Conference participants violating these rules may be sanctioned or expelled from the "+eventType+" [without a refund] at the discretion of the conference organizers. Our anti-harassment policy can be found at: "+codeOfConductUrl;document.getElementById("copyableCoC").value=shortVersion+"\n\n"+mediumVersion}var $default=document.getElementById("noAdditionalSpaces");$default.parentElement.classList.toggle("selected"),$("#additionalSpaces label").click(function(){var $selected=$("#"+$(this).attr("for"));$(this).is(":checked")&&console.log("element is checked"),$selected.prop("checked",!0),this.classList.toggle("selected"),console.log("added selected class")}),$("#communityName, #userName, #communityurl, #coconducturl").val("").change(function(){$("#next").prop("disabled",!1)});var $copyNameTo=$(".output .communityName"),$copyName=$("#communityName");$($copyName).keyup(function(){$copyNameTo.text(this.value)});var $copyUrlTo=$(".output .coconductURL"),$copyUrl=$("#coconducturl");$($copyUrl).keyup(function(){$copyUrlTo.text(this.value)}),$('#intro input[type="checkbox"]').click(function(){$clickedID=$(this).attr("id"),this.parentElement.classList.toggle("selected"),"onlineSpace"==$clickedID?onlineSpace?(onlineSpace=!1,$("body").removeClass("onlineUsage")):(onlineSpace=!0,$("body").addClass("onlineUsage")):offlineSpace?(offlineSpace=!1,$("body").removeClass("offlineUsage")):(offlineSpace=!0,$("body").addClass("offlineUsage")),canProceed()});var section=0,sections=$(".section"),onlineSpace=!1,offlineSpace=!1,space,communityName,coconductUrl,eventType,shortVersion,medVersion,additionalSpaces;$("#no-js").hide(),$(".main, #next").show(),sectionHasRequiredChanges(),$("#back").click(function(){$(sections).each(function(index){$(this).hasClass("active")&&($(sections[section]).removeClass("active"),section--,$(sections[section]).addClass("active"),$("#next").prop("disabled",!1))}),0===section&&$("#back").prop("disabled",!0)}),$(sections[section]).addClass("active"),$("#back").prop("disabled",!0),$("#next").prop("disabled",!0),$("#next").click(function(){$("#back").prop("disabled",!1),$("#intro").hasClass("active")?onAndOffline():$("#basic").hasClass("active")?(getBasicInfo(),shortVersion=$("#shortVersion quote").text(),$("#outputCoC").show()):$("#people").hasClass("active")&&(medVersion=$("#medVersion quote").text()),$(sections[section]).removeClass("active"),section++,$(sections[section]).addClass("active"),$("#people").hasClass("active")?$("#next").prop("disabled",!1):$("#spaces").hasClass("active")||$("#next").prop("disabled",!0),sectionHasRequiredChanges()});var $yesAdditional=$("#yesAdditional"),$noAdditional=$("#noAdditional"),$copyAddPeepsTo=$("#people .output #additional"),$copyAddPeeps=$("#otherAdditional"),$prefixPeeps="We will also support the following groups of people in whatever way is needed: ";$noAdditional.prop("checked",!0),$copyAddPeeps.prop("disabled",!0),$($copyAddPeeps).keyup(function(){$copyAddPeepsTo.text($prefixPeeps+this.value+". ")}),$yesAdditional.click(function(){$copyAddPeeps.prop("disabled",!1)}),$noAdditional.click(function(){$copyAddPeeps.prop("disabled",!0),$copyAddPeepsTo.text("")});var spaceSelections=$("#spaces [type=checkbox]"),prefixSpacesTo=$("#prefixing"),copyOtherSpacesTo=$("#commSpaces"),otherSpacesTo=$("#otherSpaces"),copyOtherSpacesFrom=$("#otherSpaceText"),otherCheckbox=$("#otherSpace"),onlineChoices=$("#spaces .onlineSpacesOnly input[type=checkbox]"),offlineChoices=$("#spaces .offlineSpacesOnly input[type=checkbox]"),selectedSpaces;selectedSpaces=[],$("#spaces input:checkbox:checked").each(function(){var $input=$(this);$input.prop("checked")&&$input.prop("checked",!1)}),$(copyOtherSpacesFrom).keyup(function(){otherSpacesTo.text(this.value)}),$("#spaces input[type=checkbox]").click(function(){var clickedCheckbox=this,clickedValue=this.value;$(copyOtherSpacesTo).text("")&&$("#prefixing").show(),"other"==clickedValue?$(otherCheckbox).is(":checked")?$(copyOtherSpacesFrom).prop("disabled",!1):$(otherCheckbox).not(":checked")&&($(copyOtherSpacesFrom).prop("disabled",!0),$("#otherSpaces").text("")):($("body").hasClass("onlineUsage")&&matchSpaces(onlineChoices,clickedValue,clickedCheckbox),$("body").hasClass("offlineUsage")&&matchSpaces(offlineChoices,clickedValue,clickedCheckbox))});var $default=document.getElementById("noSponsors");$default.parentElement.classList.toggle("selected"),$("#sponsors label").click(function(){var $selected=$("#"+$(this).attr("for"));$(this).is(":checked")&&console.log("element is checked"),$selected.prop("checked",!0),this.classList.toggle("selected"),console.log("added selected class")}),1==additionalSpaces&&(additionalSpaceRules="Some spaces may have additional rules in place, which will be made clearly available to participants. Participants are responsible for knowing and abiding by these rules."),$("#outputCoC").click(function(){$("#popover, #CoCWindow").show(),""==document.getElementById("copyableCoC").value,getCodeOfConduct()}),$("#close, #popover").click(function(){$("#popover, #CoCWindow").hide()});